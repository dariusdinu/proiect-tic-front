"use strict";(self["webpackChunkfront"]=self["webpackChunkfront"]||[]).push([[97],{3097:function(e,t,i){i.r(t),i.d(t,{default:function(){return D}});var a=i(3396),r=i(9242),n=i(7139);const o=e=>((0,a.dD)("data-v-f08e011e"),e=e(),(0,a.Cn)(),e),s=o((()=>(0,a._)("h1",null,"Add a new reminder",-1))),l={class:"reminder-info-container"},d={class:"div-for-select"},m=(0,a.uE)('<option value="" selected data-v-f08e011e>Select the type</option><option value="water" data-v-f08e011e>water</option><option value="fertilize" data-v-f08e011e>fertilize</option><option value="mist" data-v-f08e011e>mist</option><option value="repot" data-v-f08e011e>repot</option><option value="other" data-v-f08e011e>other</option>',6),p=[m],u=o((()=>(0,a._)("i",{class:"fa-solid fa-angle-down"},null,-1))),f={class:"div-for-select"},h=(0,a.uE)('<option value="" selected data-v-f08e011e>Select the time unit</option><option value="days" data-v-f08e011e>days</option><option value="weeks" data-v-f08e011e>weeks</option><option value="months" data-v-f08e011e>months</option><option value="years" data-v-f08e011e>years</option>',5),c=[h],v=o((()=>(0,a._)("i",{class:"fa-solid fa-angle-down"},null,-1))),y=o((()=>(0,a._)("div",null,[(0,a._)("button",{type:"submit",class:"btn-save"},"Save")],-1))),w={key:0,class:"error-input-form"};function U(e,t,i,o,m,h){const U=(0,a.up)("the-header");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(U),s,(0,a._)("form",{onSubmit:t[5]||(t[5]=(0,r.iM)(((...e)=>h.submitForm&&h.submitForm(...e)),["prevent"])),class:"form"},[(0,a._)("div",l,[(0,a.wy)((0,a._)("input",{class:"input",type:"text",placeholder:"Name","onUpdate:modelValue":t[0]||(t[0]=e=>m.name=e)},null,512),[[r.nr,m.name,void 0,{trim:!0}]]),(0,a._)("div",d,[(0,a.wy)((0,a._)("select",{class:"select-type",name:"type",id:"type","onUpdate:modelValue":t[1]||(t[1]=e=>m.type=e)},p,512),[[r.bM,m.type,void 0,{trim:!0}]]),u]),(0,a.wy)((0,a._)("input",{class:"input",type:"date",placeholder:"startDate","onUpdate:modelValue":t[2]||(t[2]=e=>m.startDate=e)},null,512),[[r.nr,m.startDate,void 0,{trim:!0}]]),(0,a.wy)((0,a._)("input",{class:"input",type:"number",placeholder:"How often","onUpdate:modelValue":t[3]||(t[3]=e=>m.numberOfTimeUnits=e)},null,512),[[r.nr,m.numberOfTimeUnits,void 0,{trim:!0}]]),(0,a._)("div",f,[(0,a.wy)((0,a._)("select",{class:"select-time-unit",name:"timeUnit",id:"timeUnit","onUpdate:modelValue":t[4]||(t[4]=e=>m.timeUnit=e)},c,512),[[r.bM,m.timeUnit,void 0,{trim:!0}]]),v])]),y],32),m.error?((0,a.wg)(),(0,a.iD)("p",w,(0,n.zw)(m.error),1)):(0,a.kq)("",!0)],64)}i(7658);var b=i(6943),_={name:"addReminder",props:{id:{type:String,required:!0}},data(){return{timeUnit:[],name:"",type:[],startDate:"",numberOfTimeUnits:"",error:""}},methods:{async submitForm(){console.log(this.id),this.resetError();const e=this.validateForm();if(!e)return;const t={name:this.name,type:this.type,startDate:this.startDate,numberOfTimeUnits:this.numberOfTimeUnits,timeUnit:this.timeUnit};await b.Z.post(`https://tic-project-plantly.herokuapp.com/admin/plants/${this.id}/reminders`,t,{headers:{authorization:`Bearer ${localStorage.getItem("token")}`}}),this.$router.push(`/plants/${this.id}/reminders`)},resetError(){this.error=null},validateForm(){let e=!0;return 0===this.name.trim().length&&(this.error="All fields are mandatory.",e=!1),0===this.numberOfTimeUnits&&(this.error="All fields are mandatory.",e=!1),0===this.type.trim().length&&(this.error="All fields are mandatory.",e=!1),0===this.startDate.trim().length&&(this.error="All fields are mandatory.",e=!1),""===this.timeUnit&&(this.error="All fields are mandatory.",e=!1),e}}},g=i(89);const k=(0,g.Z)(_,[["render",U],["__scopeId","data-v-f08e011e"]]);var D=k}}]);
//# sourceMappingURL=97.a1643820.js.map